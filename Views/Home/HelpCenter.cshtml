@{
    ViewData["Title"] = "Help Center";
    var branding = ViewBag.Branding as CRM.Models.BrandingModel;
    var settings = ViewBag.Settings as Dictionary<string, string>;
    var companyName = settings?.GetValueOrDefault("CompanyName", "CRM Platform");
}

<div class="container-fluid p-4">
    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <div class="d-flex align-items-center">
                        @if (!string.IsNullOrEmpty(branding?.CompanyLogo))
                        {
                            <img src="@branding.CompanyLogo" alt="@companyName" style="height: 40px; margin-right: 15px;">
                        }
                        <h1 class="mb-0"><i class="fas fa-question-circle me-2"></i>Help Center</h1>
                    </div>
                </div>
                <div class="card-body">
                    <!-- Company Information -->
                    <div class="row mb-5">
                        <div class="col-md-8">
                            <h3 class="text-primary mb-3">About @companyName</h3>
                            @if (!string.IsNullOrEmpty(branding?.AboutUsText))
                            {
                                <div class="lead">@Html.Raw(branding.AboutUsText.Replace("\n", "<br>"))</div>
                            }
                            else
                            {
                                <p class="lead">Welcome to our comprehensive CRM platform designed to streamline your business operations and enhance customer relationships.</p>
                                <p>Our advanced Customer Relationship Management system provides powerful tools for lead management, sales tracking, property management, and team collaboration. With intuitive dashboards and real-time analytics, we help businesses of all sizes optimize their sales processes and drive growth.</p>
                            }
                            
                            <h4 class="mt-4 mb-3">Key Features:</h4>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Lead Management & Tracking</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Sales Pipeline Management</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Property & Project Management</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Team Performance Analytics</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Automated Notifications</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Financial Tracking & Reporting</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <div class="card bg-light">
                                <div class="card-body text-center">
                                    @if (!string.IsNullOrEmpty(branding?.AboutUsImage))
                                    {
                                        <img src="@branding.AboutUsImage" alt="@companyName" class="img-fluid mb-3" style="max-height: 150px;">
                                    }
                                    <h5 class="card-title">Connect With Us</h5>
                                    <p class="card-text">Follow us on social media for updates and tips</p>
                                    <div class="d-flex justify-content-center gap-2 mb-3 flex-wrap">
                                        @if (!string.IsNullOrEmpty(branding?.InstagramUrl))
                                        {
                                            <a href="@branding.InstagramUrl" target="_blank" class="btn btn-outline-danger btn-sm">
                                                <i class="fab fa-instagram"></i> Instagram
                                            </a>
                                        }
                                        @if (!string.IsNullOrEmpty(branding?.FacebookUrl))
                                        {
                                            <a href="@branding.FacebookUrl" target="_blank" class="btn btn-outline-primary btn-sm">
                                                <i class="fab fa-facebook"></i> Facebook
                                            </a>
                                        }
                                    </div>
                                    <div class="d-flex justify-content-center gap-2 flex-wrap">
                                        @if (!string.IsNullOrEmpty(branding?.TwitterUrl))
                                        {
                                            <a href="@branding.TwitterUrl" target="_blank" class="btn btn-outline-info btn-sm">
                                                <i class="fab fa-twitter"></i> Twitter
                                            </a>
                                        }
                                        @if (!string.IsNullOrEmpty(branding?.LinkedInUrl))
                                        {
                                            <a href="@branding.LinkedInUrl" target="_blank" class="btn btn-outline-dark btn-sm">
                                                <i class="fab fa-linkedin"></i> LinkedIn
                                            </a>
                                        }
                                        @if (!string.IsNullOrEmpty(branding?.WhatsAppNumber))
                                        {
                                            <a href="https://wa.me/@branding.WhatsAppNumber.Replace("+", "").Replace(" ", "")" target="_blank" class="btn btn-outline-success btn-sm">
                                                <i class="fab fa-whatsapp"></i> WhatsApp
                                            </a>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FAQ Section -->
                    <div class="row">
                        <div class="col-12">
                            <h3 class="text-primary mb-4">Frequently Asked Questions</h3>
                            <div class="accordion" id="faqAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                            How do I add a new lead to the system?
                                        </button>
                                    </h2>
                                    <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                                        <div class="accordion-body">
                                            Navigate to the Leads section and click "Add Lead". Fill in the required information including name, contact details, and source. The lead will be automatically assigned based on your role and permissions.
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                            How can I track my sales performance?
                                        </button>
                                    </h2>
                                    <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                        <div class="accordion-body">
                                            Use the Dashboard and Sales Overview sections to monitor your performance. You can view lead conversion rates, booking statistics, and revenue metrics with detailed charts and analytics.
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                            What are the different user roles available?
                                        </button>
                                    </h2>
                                    <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                        <div class="accordion-body">
                                            The system supports multiple roles: Admin (full access), Manager (team oversight), Sales/Agent (lead management), and Partner (channel partner access). Each role has specific permissions and access levels.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>